import{_ as b}from"./ChIi9uzV.js";import{_ as w}from"./bbw1qU16.js";import{p as h,v as y,m as g,q as m,o as u,c as x,b as p,a as t,x as k,S as L,w as $,t as a,F as A,n as D,T as C}from"./Kn-qE8eo.js";import{u as S}from"./B9qFNX-l.js";import"./DmLZVawB.js";import"./DCCLcKKE.js";const j=()=>{const _=y(),{hexSchoolApiUrl:l}=_.public,{data:r,status:s,error:c,refresh:v}=S(`${l}/api/v1/rooms`,{transform:n=>n.status?{...n,result:n.result.map(d=>({...d,price:d.price.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),createdAt:e(d.createdAt),updatedAt:e(d.updatedAt)}))}:n},"$DtDD95fLXX"),o=h(()=>{var n,d;return(n=r.value)!=null&&n.status?(d=r.value)==null?void 0:d.result:[]}),i=h(()=>c.value!==null),f=h(()=>s.value==="pending"),e=n=>new Date(n).toLocaleDateString();return{roomTypeList:o,hasError:i,isLoading:f,refresh:v}},F={key:0,class:"text-center"},T={key:1},P={class:"group max-w-md overflow-hidden rounded-xl shadow-md md:max-w-2xl lg:max-w-full"},R={class:"md:flex"},B={class:"overflow-hidden"},N=["src","alt"],E={class:"flex flex-col justify-between p-4"},I={class:"mb-8"},V={class:"mb-2 text-xl font-bold text-gray-900"},W={class:"text-base text-gray-700"},U={class:"mb-4 flex space-x-2"},X={class:"h-20 w-20 rounded-md border border-stone-300 p-4 md:h-24 md:w-24"},q={class:"text-stone-500"},z={class:"h-20 w-20 rounded-md border border-stone-300 p-4 md:h-24 md:w-24"},M={class:"h-20 w-20 rounded-md border border-stone-300 p-4 md:h-24 md:w-24"},G={class:"text-stone-500"},H={class:"mb-4"},J={class:"text-2xl text-stone-500"},K={class:"flex items-center justify-between text-sm text-stone-500"},O=g({__name:"index",setup(_){const{roomTypeList:l,hasError:r,isLoading:s,refresh:c}=j();return(v,o)=>{const i=b,f=w;return m(s)?(u(),x("div",F,[p(i,{class:"h-6 w-6 text-stone-500",name:"eos-icons:loading"})])):m(r)?(u(),x("div",T,[o[1]||(o[1]=t("p",{class:"text-red-600"},"Failed to load rooms. Please try again.",-1)),t("button",{type:"button",class:"btn mt-2",onClick:o[0]||(o[0]=e=>m(c)())},"Retry")])):(u(!0),x(A,{key:2},k(m(l),e=>(u(),L(f,{key:e._id,to:`/rooms/${e._id}`,class:"block transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg"},{default:$(()=>[t("section",P,[t("div",R,[t("div",B,[t("img",{src:e.imageUrl,alt:e.name,class:"h-48 w-full object-cover transition-transform duration-300 group-hover:scale-105 md:h-full"},null,8,N)]),t("div",E,[t("div",I,[t("div",V,a(e.name),1),t("p",W,a(e.description),1)]),t("div",U,[t("div",X,[p(i,{class:"mb-1 h-5 w-5 text-stone-400",name:"mdi:floor-plan"}),t("p",q,a(e.areaInfo),1)]),t("div",z,[p(i,{class:"mb-1 h-5 w-5 text-stone-400",name:"mdi:bed-empty"}),o[2]||(o[2]=t("p",{class:"text-stone-500"},"1 大床",-1))]),t("div",M,[p(i,{class:"mb-1 h-5 w-5 text-stone-400",name:"mdi:people"}),t("p",G,"2-"+a(e.maxPeople)+"人",1)])]),o[3]||(o[3]=t("div",{class:"my-4 h-0.5 w-full bg-gradient-to-r from-stone-500"},null,-1)),t("div",H,[t("p",J,a(e.price),1)]),t("div",K,[t("p",null,"createdAt: "+a(e.createdAt),1),t("p",null,"updatedAt: "+a(e.updatedAt),1)])])])])]),_:2},1032,["to"]))),128))}}}),Q={class:"container"},Y={class:"h-auto rounded-3xl"},Z={class:"pt-2 font-elf text-2xl text-stone-400"},tt={class:"mb-4 grid grid-cols-1 gap-6 pt-2"},it=g({__name:"index",setup(_){const l=D();return(r,s)=>{const c=O;return u(),x("main",Q,[t("div",Y,[s[0]||(s[0]=t("p",{class:"text-xl text-stone-500"},"這是房型頁",-1)),s[1]||(s[1]=t("p",{class:"pt-2 font-elf text-3xl font-bold text-stone-500"},"Page: ㄓㄜˋㄕˋㄈㄤˊㄒㄧㄥˊㄧㄝˋ",-1)),t("p",Z," ㄇㄨˋㄑㄧㄢˊㄌㄨˋㄧㄡˊㄉㄜ˙ㄌㄨˋㄐㄧㄥˋㄨㄟˊ route.fullPath: "+a(m(l).fullPath),1),s[2]||(s[2]=t("p",{class:"pt-4 text-3xl font-semibold text-stone-700"},"房型列表",-1)),t("div",tt,[p(c)]),s[3]||(s[3]=C('<div class="max-w-md overflow-hidden rounded-xl bg-white shadow-md md:max-w-2xl lg:max-w-full"><div class="md:flex"><div class="md:shrink"><img class="h-48 w-full object-cover md:h-full md:w-48" src="https://fakeimg.pl/300" alt="Modern building architecture"></div><div class="p-8"><div class="text-sm font-semibold uppercase tracking-wide text-indigo-500"> Company retreats </div><a href="#" class="mt-1 block text-lg font-medium leading-tight text-black hover:underline">Incredible accommodation for your team</a><p class="mt-2 text-slate-500"> Looking to take your team away on a retreat to enjoy awesome food and take in some sunshine? We have a list of places to do just that. </p></div></div></div>',1))])])}}});export{it as default};
