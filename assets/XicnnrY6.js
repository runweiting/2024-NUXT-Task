import{_ as D}from"./ChIi9uzV.js";import{m as F,n as R,R as $,p as m,q as s,o as a,c as i,a as t,t as n,b as c,F as u,x as p,v as C}from"./Kn-qE8eo.js";import{u as S}from"./B9qFNX-l.js";import"./DmLZVawB.js";import"./DCCLcKKE.js";const U={key:0,class:"text-center"},j={key:1},B={key:2,class:"group w-full max-w-sm lg:max-w-full"},E={class:"overflow-hidden rounded-xl"},P=["src","alt"],N={class:"flex flex-col justify-between bg-white p-4 leading-normal"},T={class:"mb-8"},V={class:"mb-2 text-xl font-bold text-stone-900"},W={class:"text-base text-stone-700"},q={class:"mb-4 flex space-x-2"},z={class:"h-[100px] w-[100px] rounded-md border border-stone-300 p-4"},Q={class:"text-stone-700"},G={class:"h-[100px] w-[100px] rounded-md border border-stone-300 p-4"},H={class:"text-stone-700"},J={class:"h-[100px] w-[100px] border border-stone-300 p-4 last:rounded-md"},K={class:"text-stone-700"},M={class:"mb-4 flex flex-auto gap-4 rounded-md border border-stone-300 p-4"},O={class:"text-stone-700"},X={class:"mb-4 flex flex-auto gap-4 rounded-md border border-stone-300 p-4"},Y={class:"text-stone-700"},Z={class:"mb-4 flex flex-auto gap-4 rounded-md border border-stone-300 p-4"},tt={class:"text-stone-700"},et={class:"mb-4 flex justify-between"},st={class:"text-2xl text-stone-500"},ot={class:"flex items-center justify-between text-stone-500"},nt={class:"leading-none"},rt={class:"leading-non"},ut=F({__name:"[id]",setup(lt){const _=R(),b=$(),h=_.params.id,g={name:"",description:"",imageUrl:"",imageUrlList:[],areaInfo:"",bedInfo:"",maxPeople:0,price:0,status:0,layoutInfo:[],facilityInfo:[],amenityInfo:[],_id:"",createdAt:"",updatedAt:""},v=C(),{hexSchoolApiUrl:y}=v.public,{data:x,status:w,error:k,refresh:A}=S(`${y}/api/v1/rooms/${h}`,{transform:r=>{if(!r.status)return r;const e=r.result;return{...r,result:{...e,price:e.price.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),createdAt:f(e.createdAt),updatedAt:f(e.updatedAt)}}}},"$xEAL11gQhU"),o=m(()=>{var r,e;return(r=x.value)!=null&&r.status?(e=x.value)==null?void 0:e.result:g}),I=m(()=>k.value!==null),L=m(()=>w.value==="pending"),f=r=>new Date(r).toLocaleDateString();return(r,e)=>{const d=D;return s(L)?(a(),i("div",U,e[2]||(e[2]=[t("p",{class:"text-gray-500"},"Loading rooms...",-1)]))):s(I)?(a(),i("div",j,[e[3]||(e[3]=t("p",{class:"text-red-600"},"Failed to load rooms. Please try again.",-1)),t("button",{type:"button",class:"btn mt-2",onClick:e[0]||(e[0]=l=>s(A)())},"Retry")])):(a(),i("section",B,[t("div",E,[t("img",{src:s(o).imageUrl,alt:s(o).name,class:"h-[600px] w-full object-cover transition-transform duration-300 group-hover:scale-105"},null,8,P)]),t("div",N,[t("div",T,[t("div",V,n(s(o).name),1),t("p",W,n(s(o).description),1)]),e[4]||(e[4]=t("h3",{class:"font-bold text-stone-900"},"房型基本資訊",-1)),t("div",q,[t("div",z,[c(d,{class:"mb-2 h-5 w-5 text-stone-400",name:"mdi:floor-plan"}),t("p",Q,n(s(o).areaInfo),1)]),t("div",G,[c(d,{class:"mb-2 h-5 w-5 text-stone-400",name:"mdi:bed-empty"}),t("p",H,n(s(o).bedInfo),1)]),t("div",J,[c(d,{class:"mb-2 h-5 w-5 text-stone-400",name:"mdi:people"}),t("p",K,"2-"+n(s(o).maxPeople)+"人",1)])]),e[5]||(e[5]=t("h3",{class:"font-bold text-stone-900"},"房間格局",-1)),t("div",M,[(a(!0),i(u,null,p(s(o).layoutInfo,l=>(a(),i("div",{key:l.title,class:"flex items-center"},[c(d,{class:"mr-1 h-5 w-5 text-stone-400",name:"mdi:check"}),t("p",O,n(l.title),1)]))),128))]),e[6]||(e[6]=t("h3",{class:"font-bold text-stone-900"},"房內設備",-1)),t("div",X,[(a(!0),i(u,null,p(s(o).facilityInfo,l=>(a(),i("div",{key:l.title,class:"flex items-center"},[c(d,{class:"mr-1 h-5 w-5 text-stone-400",name:"mdi:check"}),t("p",Y,n(l.title),1)]))),128))]),e[7]||(e[7]=t("h3",{class:"font-bold text-stone-900"},"備品提供",-1)),t("div",Z,[(a(!0),i(u,null,p(s(o).amenityInfo,l=>(a(),i("div",{key:l.title,class:"flex items-center"},[c(d,{class:"mr-1 h-5 w-5 text-stone-400",name:"mdi:check"}),t("p",tt,n(l.title),1)]))),128))]),e[8]||(e[8]=t("div",{class:"my-4 h-0.5 w-full bg-gradient-to-r from-stone-500"},null,-1)),t("div",et,[t("p",st,n(s(o).price),1),t("button",{type:"button",class:"btn",onClick:e[1]||(e[1]=l=>s(b).push("/rooms"))},"回到上一頁")]),t("div",ot,[t("p",nt,"createdAt: "+n(s(o).createdAt),1),t("p",rt,"updatedAt: "+n(s(o).updatedAt),1)])])]))}}});export{ut as default};
