import{_ as b}from"./C8I4t9NR.js";import{_ as w}from"./D6RnFGi6.js";import{q as h,s as y,m as g,n as r,o as c,c as x,b as m,a as t,v as k,z as L,w as A,t as n,F as $,u as D,A as C}from"./DCQZlOOw.js";import{u as j}from"./BA46hkOJ.js";import"./B3b63f5Z.js";import"./CP7XnLrU.js";const F=()=>{const _=y(),{hexSchoolApiUrl:i}=_.public,{data:u,status:s,error:l,refresh:v}=j(`${i}/api/v1/rooms`,{transform:a=>({...a,result:a.result.map(p=>({...p,price:p.price.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),createdAt:e(p.createdAt),updatedAt:e(p.updatedAt)}))})},"$DtDD95fLXX"),o=h(()=>{var a;return((a=u.value)==null?void 0:a.result)||[]}),d=h(()=>l.value!==null),f=h(()=>s.value==="pending"),e=a=>new Date(a).toLocaleDateString();return{roomTypeList:o,hasError:d,isLoading:f,refresh:v}},S={key:0,class:"text-center"},P={key:1},R={class:"group max-w-md overflow-hidden rounded-xl shadow-md md:max-w-2xl lg:max-w-full"},T={class:"md:flex"},B={class:"grow"},N=["src","alt"],E={class:"flex flex-col justify-between p-4"},I={class:"mb-8"},V={class:"mb-2 text-xl font-bold text-gray-900"},W={class:"text-base text-gray-700"},z={class:"mb-4 flex space-x-2"},U={class:"h-20 w-20 rounded-md border border-stone-300 p-4 md:h-24 md:w-24"},X={class:"text-stone-500"},q={class:"h-20 w-20 rounded-md border border-stone-300 p-4 md:h-24 md:w-24"},M={class:"h-20 w-20 rounded-md border border-stone-300 p-4 md:h-24 md:w-24"},G={class:"text-stone-500"},H={class:"mb-4"},J={class:"text-2xl text-stone-500"},K={class:"flex items-center justify-between text-sm text-stone-500"},O=g({__name:"index",setup(_){const{roomTypeList:i,hasError:u,isLoading:s,refresh:l}=F();return(v,o)=>{const d=b,f=w;return r(s)?(c(),x("div",S,[m(d,{class:"h-6 w-6 text-stone-500",name:"eos-icons:loading"})])):r(u)?(c(),x("div",P,[o[1]||(o[1]=t("p",{class:"text-red-600"},"Failed to load rooms. Please try again.",-1)),t("button",{type:"button",class:"btn mt-2",onClick:o[0]||(o[0]=e=>r(l)())},"Retry")])):(c(!0),x($,{key:2},k(r(i),e=>(c(),L(f,{key:e._id,to:`/rooms/${e._id}`,class:"block transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg"},{default:A(()=>[t("section",R,[t("div",T,[t("div",B,[t("img",{src:e.imageUrl,alt:e.name,class:"h-48 w-full object-cover transition-transform duration-300 group-hover:scale-105 md:h-full md:w-auto"},null,8,N)]),t("div",E,[t("div",I,[t("div",V,n(e.name),1),t("p",W,n(e.description),1)]),t("div",z,[t("div",U,[m(d,{class:"mb-1 h-5 w-5 text-stone-400",name:"mdi:floor-plan"}),t("p",X,n(e.areaInfo),1)]),t("div",q,[m(d,{class:"mb-1 h-5 w-5 text-stone-400",name:"mdi:bed-empty"}),o[2]||(o[2]=t("p",{class:"text-stone-500"},"1 大床",-1))]),t("div",M,[m(d,{class:"mb-1 h-5 w-5 text-stone-400",name:"mdi:people"}),t("p",G,"2-"+n(e.maxPeople)+"人",1)])]),o[3]||(o[3]=t("div",{class:"my-4 h-0.5 w-full bg-gradient-to-r from-stone-500"},null,-1)),t("div",H,[t("p",J,n(e.price),1)]),t("div",K,[t("p",null,"createdAt: "+n(e.createdAt),1),t("p",null,"updatedAt: "+n(e.updatedAt),1)])])])])]),_:2},1032,["to"]))),128))}}}),Q={class:"container"},Y={class:"h-auto rounded-3xl"},Z={class:"pt-2 font-elf text-2xl text-stone-400"},tt={class:"mb-4 grid grid-cols-1 gap-6 pt-2"},it=g({__name:"index",setup(_){const i=D();return(u,s)=>{const l=O;return c(),x("main",Q,[t("div",Y,[s[0]||(s[0]=t("p",{class:"text-xl text-stone-500"},"這是房型頁",-1)),s[1]||(s[1]=t("p",{class:"pt-2 font-elf text-3xl font-bold text-stone-500"},"Page: ㄓㄜˋㄕˋㄈㄤˊㄒㄧㄥˊㄧㄝˋ",-1)),t("p",Z," ㄇㄨˋㄑㄧㄢˊㄌㄨˋㄧㄡˊㄉㄜ˙ㄌㄨˋㄐㄧㄥˋㄨㄟˊ route.fullPath: "+n(r(i).fullPath),1),s[2]||(s[2]=t("p",{class:"pt-4 text-3xl font-semibold text-stone-700"},"房型列表",-1)),t("div",tt,[m(l)]),s[3]||(s[3]=C('<div class="max-w-md overflow-hidden rounded-xl bg-white shadow-md md:max-w-2xl lg:max-w-full"><div class="md:flex"><div class="md:shrink"><img class="h-48 w-full object-cover md:h-full md:w-48" src="https://fakeimg.pl/300" alt="Modern building architecture"></div><div class="p-8"><div class="text-sm font-semibold uppercase tracking-wide text-indigo-500"> Company retreats </div><a href="#" class="mt-1 block text-lg font-medium leading-tight text-black hover:underline">Incredible accommodation for your team</a><p class="mt-2 text-slate-500"> Looking to take your team away on a retreat to enjoy awesome food and take in some sunshine? We have a list of places to do just that. </p></div></div></div>',1))])])}}});export{it as default};
