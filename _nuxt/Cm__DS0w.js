import{_ as v}from"./DdU4FjN9.js";import{_ as y}from"./DmdmqWIE.js";import{q as h,s as w,m as b,n as i,o as c,c as m,b as p,a as t,v as k,z as L,w as $,t as o,F as A,u as D}from"./4q_R_4gM.js";import{u as C}from"./Dbs33ik5.js";import"./dIvCUiEA.js";import"./DZC9LRfQ.js";const F=()=>{const x=w(),{hexSchoolApiUrl:l}=x.public,{data:u,status:s,error:d,refresh:g}=C(`${l}/api/v1/rooms`,{transform:r=>({...r,result:r.result.map(_=>({..._,price:_.price.toLocaleString("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),createdAt:e(_.createdAt),updatedAt:e(_.updatedAt)}))})},"$DtDD95fLXX"),n=h(()=>{var r;return((r=u.value)==null?void 0:r.result)||[]}),a=h(()=>d.value!==null),f=h(()=>s.value==="pending"),e=r=>new Date(r).toLocaleDateString();return{roomTypeList:n,hasError:a,isLoading:f,refresh:g}},P={key:0,class:"text-center"},R={key:1},S={class:"group w-full max-w-sm lg:flex lg:max-w-full"},T={class:"h-48 flex-none overflow-hidden rounded-t lg:h-auto lg:rounded-l lg:rounded-r-none"},B=["src","alt"],j={class:"flex flex-col justify-between rounded-b border-b border-l border-r border-gray-400 bg-white p-4 leading-normal lg:rounded-b-none lg:rounded-r lg:border-l-0 lg:border-t lg:border-gray-400"},E={class:"mb-8"},I={class:"mb-2 text-xl font-bold text-gray-900"},N={class:"text-base text-gray-700"},z={class:"mb-4 flex space-x-2"},U={class:"h-[100px] w-[100px] rounded-md border border-stone-300 p-4"},V={class:"text-stone-500"},W={class:"h-[100px] w-[100px] rounded-md border border-stone-300 p-4"},X={class:"text-stone-500"},q={class:"h-[100px] w-[100px] border border-stone-300 p-4 last:rounded-md"},G={class:"text-stone-500"},H={class:"mb-4"},J={class:"text-2xl text-stone-500"},K={class:"flex items-center justify-between text-stone-500"},M={class:"leading-none"},O={class:"leading-non"},Q=b({__name:"index",setup(x){const{roomTypeList:l,hasError:u,isLoading:s,refresh:d}=F();return(g,n)=>{const a=v,f=y;return i(s)?(c(),m("div",P,[p(a,{class:"h-6 w-6 text-stone-500",name:"eos-icons:loading"})])):i(u)?(c(),m("div",R,[n[1]||(n[1]=t("p",{class:"text-red-600"},"Failed to load rooms. Please try again.",-1)),t("button",{type:"button",class:"btn mt-2",onClick:n[0]||(n[0]=e=>i(d)())},"Retry")])):(c(!0),m(A,{key:2},k(i(l),e=>(c(),L(f,{key:e._id,to:`/rooms/${e._id}`,class:"block transition-transform duration-300 hover:scale-[1.02] hover:shadow-lg"},{default:$(()=>[t("section",S,[t("div",T,[t("img",{src:e.imageUrl,alt:e.name,class:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"},null,8,B)]),t("div",j,[t("div",E,[t("div",I,o(e.name),1),t("p",N,o(e.description),1)]),t("div",z,[t("div",U,[p(a,{class:"mb-2 h-5 w-5 text-stone-400",name:"mdi:floor-plan"}),t("p",V,o(e.areaInfo),1)]),t("div",W,[p(a,{class:"mb-2 h-5 w-5 text-stone-400",name:"mdi:bed-empty"}),t("p",X,o(e.bedInfo),1)]),t("div",q,[p(a,{class:"mb-2 h-5 w-5 text-stone-400",name:"mdi:people"}),t("p",G,"2-"+o(e.maxPeople)+"人",1)])]),n[2]||(n[2]=t("div",{class:"my-4 h-0.5 w-full bg-gradient-to-r from-stone-500"},null,-1)),t("div",H,[t("p",J,o(e.price),1)]),t("div",K,[t("p",M,"createdAt: "+o(e.createdAt),1),t("p",O,"updatedAt: "+o(e.updatedAt),1)])])])]),_:2},1032,["to"]))),128))}}}),Y={class:"container"},Z={class:"h-auto rounded-3xl"},tt={class:"pt-2 font-elf text-2xl text-stone-400"},et={class:"mb-4 grid grid-cols-1 gap-6 pt-2"},dt=b({__name:"index",setup(x){const l=D();return(u,s)=>{const d=Q;return c(),m("main",Y,[t("div",Z,[s[0]||(s[0]=t("p",{class:"text-xl text-stone-500"},"這是房型頁",-1)),s[1]||(s[1]=t("p",{class:"pt-2 font-elf text-3xl font-bold text-stone-500"},"Page: ㄓㄜˋㄕˋㄈㄤˊㄒㄧㄥˊㄧㄝˋ",-1)),t("p",tt," ㄇㄨˋㄑㄧㄢˊㄌㄨˋㄧㄡˊㄉㄜ˙ㄌㄨˋㄐㄧㄥˋㄨㄟˊ route.fullPath: "+o(i(l).fullPath),1),s[2]||(s[2]=t("p",{class:"pt-4 text-3xl font-semibold text-stone-700"},"房型列表",-1)),t("div",et,[p(d)])])])}}});export{dt as default};
